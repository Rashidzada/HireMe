{% extends "base.html" %}

{% block content %}
  <div class="card p-4">
    <h1 class="h5 mb-3">Messages</h1>
    <ul class="list-group list-group-flush">
      {% for thread in threads %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            {% if user == thread.client %}
              <strong>{{ thread.freelancer.full_name }}</strong>
            {% else %}
              <strong>{{ thread.client.full_name }}</strong>
            {% endif %}
            <div class="text-muted small">Request: {{ thread.hire_request.subject }}</div>
          </div>
          <a class="btn btn-sm btn-outline-primary" href="{% url 'messaging:thread-detail' thread.pk %}">Open</a>
        </li>
      {% empty %}
        <li class="list-group-item text-muted">No conversations yet.</li>
      {% endfor %}
    </ul>
  </div>
{% endblock %}
